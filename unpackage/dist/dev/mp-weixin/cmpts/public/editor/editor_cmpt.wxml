<view><block wx:if="{{viewMode}}"><view class="editor-tab"><button class="{{['btn round '+(!isView?'bg-blue':'bg-grey light')+'  margin-right-xs']}}" data-type="bool" data-url="isView" data-event-opts="{{[['tap',[['url',['$event']]]]]}}" catchtap="__e">编辑</button><button class="{{['btn '+(isView?'bg-blue':'bg-grey light')+' round']}}" data-type="bool" data-url="isView" data-event-opts="{{[['tap',[['url',['$event']]]]]}}" catchtap="__e">预览</button></view></block><view class="editor-wrapper" style="{{('min-height: 400px;'+(viewMode?'margin-top:50rpx':''))}}" enableBackToTop="{{true}}" scrollY="{{true}}"><block wx:for="{{nodeListClone}}" wx:for-item="node" wx:for-index="index" wx:key="index"><block><view class="{{['editor-node-wrapper '+(cur==index?'cur':'')+' '+(isView?'is-view':'')]}}"><block wx:if="{{node.type==='text'}}"><textarea class="editor-textarea" disabled="{{isView}}" id="{{'editor-node-'+index}}" auto-height="{{true}}" cursor-spacing="60" data-idx="{{index}}" maxlength="-1" data-event-opts="{{[['input',[['bindTextareaInput',['$event']]]]]}}" value="{{node.val}}" bindinput="__e"></textarea></block><block wx:if="{{node.type==='img'}}"><image class="loading editor-image" data-type="image" data-url="{{node.val}}" id="{{'editor-node-'+index}}" mode="widthFix" src="{{node.val}}" lazy-load="{{true}}" data-event-opts="{{[['tap',[['url',['$event']]]]]}}" bindtap="__e"></image></block><block wx:if="{{!isView}}"><view class="editor-delete"><block wx:if="{{index>0}}"><view class="iconfont icon-refresharrow up" data-idx="{{index}}" data-event-opts="{{[['tap',[['bindUpTap',['$event']]]]]}}" bindtap="__e"></view></block><block wx:if="{{index<$root.g0-1}}"><view class="iconfont icon-refresharrow" data-idx="{{index}}" data-event-opts="{{[['tap',[['bindDownTap',['$event']]]]]}}" bindtap="__e"></view></block><view class="iconfont icon-delete" data-idx="{{index}}" data-event-opts="{{[['tap',[['bidnDeleteNodeTap',['$event']]]]]}}" bindtap="__e"></view></view></block></view><block wx:if="{{!isView}}"><view class="editor-add-wrapper"><view class="editor-add-wrapper-view" data-idx="{{index}}" data-event-opts="{{[['tap',[['bindAddTextTap',['$event']]]]]}}" bindtap="__e"><text class="icon-roundadd margin-right-xs"></text>添加文本</view><view class="editor-add-wrapper-view" data-idx="{{index}}" data-event-opts="{{[['tap',[['bindAddImageTap',['$event']]]]]}}" bindtap="__e"><text class="icon-pic margin-right-xs"></text>添加图片</view></view></block></block></block></view></view>