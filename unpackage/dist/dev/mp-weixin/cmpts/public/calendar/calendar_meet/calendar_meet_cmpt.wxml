<wxs src="../../../../tpls/wxs/tools.wxs" module="tools"></wxs>
<wxs module="utils">
// 比较操作日期所在月是否当前显示的月
function compareYearMonth(oneDoDay, year, month) {
	var arr = oneDoDay.split('-');
	return arr[0] == year && arr[1] == month;
}

module.exports = {
	compareYearMonth: compareYearMonth,
};
</wxs>
<view class="cal-container"><view data-event-opts="{{[['tap',[['bindLastTap',['$event']]]]]}}" class="left" bindtap="__e"><text class="icon-back"></text></view><view class="cal-main"><view class="text-center cal-nav"><view data-event-opts="{{[['tap',[['bindToNowTap',['$event']]]]]}}" class="to-now" bindtap="__e">本月</view><view class="select-item"><view class="text-lg">{{year+"年"+month+"月"}}</view></view><block wx:if="{{mode=='one'}}"><block><block wx:if="{{!fold}}"><view data-event-opts="{{[['tap',[['bindFoldTap',['$event']]]]]}}" class="fold text-grey" bindtap="__e"><text class="icon-fold calendar-text"></text></view></block><block wx:if="{{fold}}"><view data-event-opts="{{[['tap',[['bindFoldTap',['$event']]]]]}}" class="fold" bindtap="__e"><text class="icon-unfold calendar-text"></text></view></block></block></block></view><view class="cal-title"><view>一</view><view>二</view><view>三</view><view>四</view><view>五</view><view class="text-orange text-bold">六</view><view class="text-red text-bold">日</view></view><view class="{{['cal-center '+(!fold?'cur':'')]}}"><block wx:for="{{dayArr}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block wx:if="{{mode=='multi'}}"><view class="{{['cube '+glow+' '+(isLunar?'lunar':'')+' '+(item.full<fullToday?'timeout':'')+' '+(tools.includes(multiDoDay,item.full)?'calendar-bg text-white data-checked':'')+' '+(tools.includes(hasDays,item.full)?'data-has':'')+' '+(tools.includes(hasJoinDays,item.full)?'join-has':'')]}}" data-fullday="{{item.full}}" data-event-opts="{{[['tap',[['bindDayMultiTap',['$event']]]]]}}" bindtap="__e"><view class="{{['num-grid '+(fullToday==item.full?'now-day-cur':'')+' ']}}"><view class="{{['num '+(!item.curMonth?'text-no-month':'')+' ']}}"><text class="dd">{{item.show}}</text><block wx:if="{{isLunar}}"><text class="{{['lunar '+(tools.includes(multiDoDay,item.full)?'text-white':'')+' '+(item.holiday?'text-red':'')]}}">{{''+item.lunar+''}}</text></block></view></view></view></block></block></view></view><view data-event-opts="{{[['tap',[['bindNextTap',['$event']]]]]}}" class="left" bindtap="__e"><text class="icon-right"></text></view></view>