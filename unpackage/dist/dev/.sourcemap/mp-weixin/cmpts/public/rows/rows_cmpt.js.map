{"version":3,"sources":["webpack:///C:/Users/liuxingyu/Desktop/TurboTrainning-main/TurboTrainning-main_uni/cmpts/public/rows/rows_cmpt.vue?334a","webpack:///C:/Users/liuxingyu/Desktop/TurboTrainning-main/TurboTrainning-main_uni/cmpts/public/rows/rows_cmpt.vue?b092","webpack:///C:/Users/liuxingyu/Desktop/TurboTrainning-main/TurboTrainning-main_uni/cmpts/public/rows/rows_cmpt.vue?03ba","webpack:///C:/Users/liuxingyu/Desktop/TurboTrainning-main/TurboTrainning-main_uni/cmpts/public/rows/rows_cmpt.vue?5518","uni-app:///cmpts/public/rows/rows_cmpt.vue","webpack:///C:/Users/liuxingyu/Desktop/TurboTrainning-main/TurboTrainning-main_uni/cmpts/public/rows/rows_cmpt.vue?ef8d","webpack:///C:/Users/liuxingyu/Desktop/TurboTrainning-main/TurboTrainning-main_uni/cmpts/public/rows/rows_cmpt.vue?1f77"],"names":["data","listClone","upDirectDirClone","isDemoClone","options","addGlobalClass","props","list","type","default","ext","hasPic","hasDetail","hasVal","checkDetail","checkPic","maxCnt","minCnt","titleName","valName","picName","detailName","isDemo","titleMode","valMode","mark","parentMark","upDirectDir","mounted","destroyed","methods","ready","attached","initFun","detail","entries","bindAddTap","node","bindDelTap","pageHelper","bindTitleBlur","bindValBlur","bindPicTap","uni","count","mediaType","sourceType","success","pic","title","cloudHelper","itemList","res","cb","callback","fail","getOneFormVal","setOneFormVal","checkForms","focus","url","created","watch","handler","immediate","deep"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsH;AACtH;AAC6D;AACL;AACa;;;AAGrE;AACgM;AAChM,gBAAgB,yMAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,oFAAM;AACR,EAAE,6FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC1BA;AAAA;AAAA;AAAA;AAA0uB,CAAgB,+vBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuG9vB;AACA;AACA;AACA;AACA;AAAA,gBACA;EACAA;IACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;EACA;EACA;AACA;AACA;EACAC;IACAC;MACAC;MACAC;QAAA;MAAA;IACA;IACAC;MACA;MACAF;MACAC;QAAA;MAAA;IACA;IACAE;MACA;MACAH;MACAC;IACA;IACAG;MACA;MACAJ;MACAC;IACA;IACAI;MACA;MACAL;MACAC;IACA;IACAK;MACA;MACAN;MACAC;IACA;IACAM;MACA;MACAP;MACAC;IACA;IACAO;MACA;MACAR;MACAC;IACA;IACAQ;MACA;MACAT;MACAC;IACA;IACAS;MACA;MACAV;MACAC;IACA;IACAU;MACA;MACAX;MACAC;IACA;IACAW;MACA;MACAZ;MACAC;IACA;IACAY;MACA;MACAb;MACAC;IACA;IACAa;MACA;MACAd;MACAC;IACA;IACAc;MACAf;MACAC;IACA;IACAe;MACA;MACAhB;MACAC;IACA;IACAgB;MACA;MACAjB;MACAC;IACA;IACAiB;MACA;MACAlB;MACAC;IACA;IACAkB;MACA;MACAnB;MACAC;IACA;EACA;EACAmB;IAAA;IACA;IACA;IACA;IACA;MAAA;IAAA;EACA;EACAC;IACA;EAAA,CACA;EACA;AACA;AACA;EACAC;IACAC;MACA;IACA;IAEAC;IAEAC;MACA;MACA;QACAC;MACA;MACA;QACAjC;MACA;;MAEA;MACA;MACA;QACA,+CACAkC,8BACA;MACA;;MAEA;MACA;MACA;QACA;UACAjC;UACAC;QACA;MACA;QACA;UACAA;QACA;MACA;;MAEA;MACA;QACA;QACA;UACAD;QACA;MACA;IACA;IAEAkC;MACA;MACA;;MAEA;MACAC;MACA9B;MACA;QACAN;MACA;MACA;QACAiC;MACA;IACA;IAEAI;MAAA;MACA;MACA;;MAEA;QACA;QACA;UACA;QACA;QACA/B;QACA;UACAN;QACA;QACA;UACAiC;QACA;MACA;MACAK;IACA;IAEAC;MACA;MACA;MACA;MACA;QACA;MACA;MACAjC;;MAEA;AACA;AACA;AACA;;MAEA;QACA2B;MACA;IACA;IAEAO;MACA;MACA;MACA;MACAlC;;MAEA;AACA;AACA;AACA;;MAEA;QACA2B;MACA;IACA;IAEAQ;MAAA;MACA;MACA;QACAC;UACAC;UACAC;UACAC;UACAC;YAAA;cAAA;cAAA;gBAAA;kBAAA;oBAAA;sBACAC;sBACAzC;sBAAA,IACA;wBAAA;wBAAA;sBAAA;sBACAoC;wBACAM;sBACA;sBAAA;sBAAA,OACAC;oBAAA;sBAAA3C;sBACAoC;sBAAA;sBAAA;oBAAA;sBAEApC;oBAAA;sBAEA;wBACAN;sBACA;sBACA;wBACAiC;sBACA;oBAAA;oBAAA;sBAAA;kBAAA;gBAAA;cAAA;YAAA,CACA;YAAA;cAAA;YAAA;YAAA;UAAA;QACA;MACA;MACA;QACAS;UACAQ;UACAJ;YAAA;cAAA;cAAA;gBAAA;kBAAA;oBAAA;sBAAA,eACAK;sBAAA,kCACA,yBAIA;sBAAA;oBAAA;sBAHAC;sBAAA;oBAAA;sBAIAC;wBACA;wBACA/C;wBACA;0BACAN;wBACA;wBACA;0BACAiC;wBACA;sBACA;sBACAK;sBAAA;oBAAA;oBAAA;sBAAA;kBAAA;gBAAA;cAAA;YAAA,CAIA;YAAA;cAAA;YAAA;YAAA;UAAA;UACAgB;QACA;MACA;QACAF;MACA;IACA;IAEAG;MACA;MACA;IACA;IAEAC;IAAA;IACA;MACA;MACA;MACA;QACAxD;MACA;MACA;QACAiC;MACA;IACA;IAEAwB;MACA;;MAEA;MACA;QACA;QACA;UACAzD;QACA;MACA;MACA;MACA;QACA;MACA;MACA;QACA;MACA;MACA;QACA;QACA;QACA;;QAEA;QACA;UACA;YACA0D;UACA;YACAA;UACA;QACA;;QAEA;QAAA,KACA;UACAA;QACA;;QAEA;QAAA,KACA;UACAA;QACA;;QAEA;QAAA,KACA;UACAA;QACA;QACA;UACAtB;UACA;YACApC;UACA;UACA;QACA;MACA;MACA;IACA;IAEA2D;MACArB;IACA;EACA;EACAsB;EACAC;IACAvD;MACAwD;QACA;MACA;MAEAC;MACAC;IACA;IAEAtC;MACAoC;QACA;MACA;MAEAC;IACA;IAEA1C;MACAyC;QACA;MACA;MAEAC;IACA;EACA;AACA;AAAA,4B;;;;;;;;;;;;;AC7fA;AAAA;AAAA;AAAA;AAAkjC,CAAgB,4iCAAG,EAAC,C;;;;;;;;;;;ACAtkC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"cmpts/public/rows/rows_cmpt.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./rows_cmpt.vue?vue&type=template&id=3cff8648&\"\nvar renderjs\nimport script from \"./rows_cmpt.vue?vue&type=script&lang=js&\"\nexport * from \"./rows_cmpt.vue?vue&type=script&lang=js&\"\nimport style0 from \"./rows_cmpt.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"cmpts/public/rows/rows_cmpt.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./rows_cmpt.vue?vue&type=template&id=3cff8648&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.listClone, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n    var g0 = _vm.hasDetail ? item.detail.length : null\n    var g1 = _vm.hasDetail ? item.detail.length : null\n    return {\n      $orig: $orig,\n      g0: g0,\n      g1: g1,\n    }\n  })\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./rows_cmpt.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./rows_cmpt.vue?vue&type=script&lang=js&\"","<template>\n    <view>\n        <block v-for=\"(item, index) in listClone\" :key=\"index\">\n            <view class=\"form-group form-rows-item\" style=\"padding-right: 0rpx; padding-left: 5rpx\">\n                <view :class=\"'line1 ' + (titleMode == 'textarea' ? 'line2' : '')\">\n                    <view v-if=\"hasPic\" @tap=\"bindPicTap\" :data-idx=\"index\" class=\"pic\">\n                        <image v-if=\"item.pic\" mode=\"aspectFill\" class=\"loading\" :src=\"item.pic\" />\n                        <text v-else class=\"icon-cameraadd\"></text>\n                    </view>\n\n                    <text v-if=\"hasVal\" class=\"text-bold\">{{ titleName }}{{ index + 1 }}标题：</text>\n                    <input\n                        v-if=\"titleMode == 'input'\"\n                        @input=\"bindTitleBlur\"\n                        @blur=\"bindTitleBlur\"\n                        :data-idx=\"index\"\n                        :placeholder=\"'请输入' + titleName + (index + 1) + (hasVal ? '标题' : '')\"\n                        :disabled=\"!item.edit\"\n                        maxlength=\"200\"\n                        :focus=\"item.focus\"\n                        placeholder-class=\"phc\"\n                        :value=\"item.title\"\n                    />\n                    <textarea\n                        v-if=\"titleMode == 'textarea'\"\n                        @input=\"bindTitleBlur\"\n                        @blur=\"bindTitleBlur\"\n                        :data-idx=\"index\"\n                        :placeholder=\"'请输入' + titleName + (index + 1) + (hasVal ? '标题' : '')\"\n                        :disabled=\"!item.edit\"\n                        style=\"min-height: 200rpx; padding: 20rpx 0\"\n                        maxlength=\"500\"\n                        :auto-height=\"true\"\n                        :focus=\"item.focus\"\n                        placeholder-class=\"phc\"\n                        :value=\"item.title\"\n                    ></textarea>\n\n                    <view\n                        v-if=\"hasDetail\"\n                        @tap=\"url\"\n                        :data-url=\"\n                            '/cmpts/public/form/form_show/content/form_show_content?from=rows&cmptId=' +\n                            mark +\n                            '&cmptFormName=' +\n                            index +\n                            '&cmptParentId=' +\n                            parentMark +\n                            '&upDirectDir=' +\n                            upDirectDirClone\n                        \"\n                        class=\"detail-set text-blue\"\n                    >\n                        <text class=\"icon-edit\"></text>\n                        <text :class=\"item.detail.length == 0 ? 'text-orange' : ''\">{{ detailName }}{{ item.detail.length == 0 ? '未填' : '' }}</text>\n                    </view>\n                    <view v-if=\"item.edit\" @tap=\"bindDelTap\" :data-idx=\"index\" class=\"icon-roundclose margin-left-xs text-red select-close\"></view>\n                </view>\n                <block v-if=\"hasVal\">\n                    <view class=\"line1 line2\" v-if=\"valMode == 'input'\">\n                        <text class=\"tit\">{{ valName }}：</text>\n                        <input\n                            @input=\"bindValBlur\"\n                            @blur=\"bindValBlur\"\n                            :data-idx=\"index\"\n                            :placeholder=\"'请输入' + valName + (index + 1) + ' '\"\n                            maxlength=\"200\"\n                            :focus=\"item.focus\"\n                            placeholder-class=\"phc\"\n                            :value=\"item.val\"\n                        />\n                    </view>\n                    <view class=\"line1 line3\" v-if=\"valMode == 'textarea'\">\n                        <view class=\"tit\">{{ valName }}：</view>\n                        <textarea\n                            @input=\"bindValBlur\"\n                            @blur=\"bindValBlur\"\n                            :data-idx=\"index\"\n                            :placeholder=\"'请输入' + valName + (index + 1)\"\n                            style=\"min-height: 120rpx\"\n                            :auto-height=\"true\"\n                            :focus=\"item.focus\"\n                            placeholder-class=\"phc\"\n                            :value=\"item.val\"\n                        ></textarea>\n                        <view class=\"no\">{{ index + 1 }}</view>\n                    </view>\n                </block>\n            </view>\n\n            <view v-if=\"item.focus\" class=\"hint-desc error\">{{ item.focus }}</view>\n        </block>\n\n        <view class=\"form-group form-rows-add\" @tap=\"bindAddTap\">\n            <view>\n                <text class=\"icon-roundaddfill margin-right-xs\"></text>\n                添加新{{ titleName }}\n            </view>\n        </view>\n    </view>\n</template>\n\n<script>\nconst pageHelper = require('../../../helper/page_helper.js');\nconst dataHelper = require('../../../helper/data_helper.js');\nconst helper = require('../../../helper/helper.js');\nconst cloudHelper = require('../../../helper/cloud_helper.js');\nconst rowsSetHelper = require('./rows_set_helper.js');\nexport default {\n    data() {\n        return {\n            listClone: '',\n            upDirectDirClone: '',\n            isDemoClone: false\n        };\n    },\n    options: {\n        addGlobalClass: true\n    },\n    /**\n     * 组件的属性列表\n     */\n    props: {\n        list: {\n            type: Array,\n            default: () => []\n        },\n        ext: {\n            //对于所有参数的集中传入\n            type: Object,\n            default: () => ({})\n        },\n        hasPic: {\n            //是否带题图\n            type: Boolean,\n            default: false\n        },\n        hasDetail: {\n            //是否带详情\n            type: Boolean,\n            default: false\n        },\n        hasVal: {\n            //是否同时填值\n            type: Boolean,\n            default: false\n        },\n        checkDetail: {\n            //详情是否校验\n            type: Boolean,\n            default: false\n        },\n        checkPic: {\n            //图片是否校验\n            type: Boolean,\n            default: false\n        },\n        maxCnt: {\n            //最大数量\n            type: Number,\n            default: 100\n        },\n        minCnt: {\n            //最小数量\n            type: Number,\n            default: 2\n        },\n        titleName: {\n            //标题\n            type: String,\n            default: '条目'\n        },\n        valName: {\n            //内容名\n            type: String,\n            default: '内容'\n        },\n        picName: {\n            //题图名\n            type: String,\n            default: '图片'\n        },\n        detailName: {\n            //详情名\n            type: String,\n            default: '详情'\n        },\n        isDemo: {\n            //是否演示\n            type: Boolean,\n            default: true\n        },\n        titleMode: {\n            type: String,\n            default: 'input'\n        },\n        valMode: {\n            //hasVal==true下填值模式 input textarea\n            type: String,\n            default: 'input'\n        },\n        mark: {\n            //id标识\n            type: String,\n            default: 'rows'\n        },\n        parentMark: {\n            //引用其的父组件id标识 一般为editor\n            type: String,\n            default: ''\n        },\n        upDirectDir: {\n            //不为空：则在非测试模式下直接上传\n            type: String,\n            default: 'rows/' //editor/\n        }\n    },\n    mounted() {\n        // 处理小程序 attached 生命周期\n        this.attached();\n        // 处理小程序 ready 生命周期\n        this.$nextTick(() => this.ready());\n    },\n    destroyed: function () {\n        // 在组件实例被从页面节点树移除时执行\n    },\n    /**\n     * 组件的方法列表\n     */\n    methods: {\n        ready: function () {\n            this.initFun();\n        },\n\n        attached: function () {},\n\n        initFun: function () {\n            let list = rowsSetHelper.fmtRows(this.list);\n            this.$emit('change', {\n                detail: list\n            });\n            this.setData({\n                listClone: list\n            });\n\n            // ext集中参数传入\n            let entries = Object.entries(this.ext);\n            for (let k = 0; k < entries.length; k++) {\n                this.setData({\n                    [entries[k][0]]: entries[k][1]\n                });\n            }\n\n            // 是否真实上传\n            const setting = require('../../../setting/setting.js');\n            if (setting.IS_DEMO) {\n                this.setData({\n                    upDirectDirClone: '',\n                    isDemoClone: true\n                });\n            } else {\n                this.setData({\n                    isDemoClone: false\n                });\n            }\n\n            // 如果不为空，则上传\n            if (this.upDirectDir) {\n                let upDirectDir = pageHelper.getPID() + '/' + this.upDirectDir;\n                this.setData({\n                    upDirectDirClone: upDirectDir\n                });\n            }\n        },\n\n        bindAddTap: function (e) {\n            let list = this.list;\n            //\tif (list.length >= this.data.maxCnt) return pageHelper.showModal('最多可以添加' + this.data.maxCnt + '个' + this.data.titleName);\n\n            let node = dataHelper.deepClone(rowsSetHelper.BASE_ROW);\n            node.mark = rowsSetHelper.mark();\n            list.push(node);\n            this.setData({\n                listClone: list\n            });\n            this.$emit('change', {\n                detail: list\n            });\n        },\n\n        bindDelTap: function (e) {\n            let list = this.list;\n            //\tif (list.length <= this.data.minCnt) return pageHelper.showModal('至少填写' + this.data.minCnt + '个' + this.data.titleName);\n\n            let callback = () => {\n                let idx = pageHelper.dataset(e, 'idx');\n                if (list[idx].edit === false) {\n                    return pageHelper.showModal('本项不能删除');\n                }\n                list.splice(idx, 1);\n                this.setData({\n                    listClone: list\n                });\n                this.$emit('change', {\n                    detail: list\n                });\n            };\n            pageHelper.showConfirm('确定删除该项吗？', callback);\n        },\n\n        bindTitleBlur: function (e) {\n            let idx = pageHelper.dataset(e, 'idx');\n            let val = e.detail.value.trim();\n            let list = this.list;\n            if (list[idx].edit === false) {\n                return pageHelper.showModal('本项不能修改');\n            }\n            list[idx].title = val;\n\n            /*\n    this.setData({\n      list\n    });*/\n\n            this.$emit('change', {\n                detail: list\n            });\n        },\n\n        bindValBlur: function (e) {\n            let idx = pageHelper.dataset(e, 'idx');\n            let val = e.detail.value.trim();\n            let list = this.list;\n            list[idx].val = val;\n\n            /*\n    this.setData({\n      list\n    });*/\n\n            this.$emit('change', {\n                detail: list\n            });\n        },\n\n        bindPicTap: function (e) {\n            let idx = pageHelper.dataset(e, 'idx');\n            let cb = () => {\n                uni.chooseMedia({\n                    count: 1,\n                    mediaType: ['image'],\n                    sourceType: ['album', 'camera'],\n                    success: async (res) => {\n                        let pic = res.tempFiles[0].tempFilePath;\n                        let list = this.list;\n                        if (!this.isDemo) {\n                            uni.showLoading({\n                                title: '上传中'\n                            });\n                            list[idx].pic = await cloudHelper.transTempPicOne(pic, 'rows/', '', false);\n                            uni.hideLoading();\n                        } else {\n                            list[idx].pic = pic;\n                        }\n                        this.setData({\n                            listClone: list\n                        });\n                        this.$emit('change', {\n                            detail: list\n                        });\n                    }\n                });\n            };\n            if (this.list[idx].pic) {\n                uni.showActionSheet({\n                    itemList: ['更换' + this.picName, '删除' + this.picName],\n                    success: async (res) => {\n                        switch (res.tapIndex) {\n                            case 0: {\n                                cb();\n                                break;\n                            }\n                            case 1: {\n                                let callback = () => {\n                                    let list = this.list;\n                                    list[idx].pic = '';\n                                    this.setData({\n                                        listClone: list\n                                    });\n                                    this.$emit('change', {\n                                        detail: list\n                                    });\n                                };\n                                pageHelper.showConfirm('确认删除?', callback);\n                                break;\n                            }\n                        }\n                    },\n                    fail: function (res) {}\n                });\n            } else {\n                cb();\n            }\n        },\n\n        getOneFormVal: function (idx) {\n            //提供给父节点读取 对应的富文本值\n            return this.list[idx].detail;\n        },\n\n        setOneFormVal: function (idx, detail) //提供给父节点设定 对应的富文本值\n        {\n            let list = this.list;\n            this.list[idx].detail = detail;\n            this.setData({\n                listClone: list\n            });\n            this.$emit('change', {\n                detail: list\n            });\n        },\n\n        checkForms: function (e) {\n            //数据校验\n\n            let list = this.list;\n            for (let k = 0; k < list.length; k++) {\n                delete list[k].focus;\n                this.setData({\n                    listClone: list\n                });\n            }\n            let name = this.titleName;\n            if (list.length > this.maxCnt) {\n                return pageHelper.showModal(name + '最大可以填写' + this.maxCnt + '项，请删减之后再提交', '温馨提示');\n            }\n            if (list.length < this.minCnt) {\n                return pageHelper.showModal(name + '至少需要填写' + this.minCnt + '项，请增加之后再提交', '温馨提示');\n            }\n            for (let k = 0; k < list.length; k++) {\n                let no = k + 1;\n                let node = list[k];\n                let focus = '';\n\n                //标题\n                if (node.title.length == 0) {\n                    if (this.hasVal) {\n                        focus = name + no + '标题不能为空';\n                    } else {\n                        focus = name + no + '不能为空';\n                    }\n                }\n\n                //填值\n                else if (this.hasVal && node.val.length == 0) {\n                    focus = name + no + this.valName + '不能为空';\n                }\n\n                // 图片\n                else if (this.hasPic && this.checkPic && node.pic.length == 0) {\n                    focus = '请上传' + name + no + this.picName;\n                }\n\n                // 详情\n                else if (this.hasDetail && this.checkDetail && node.detail.length == 0) {\n                    focus = '请填写' + name + no + this.detailName;\n                }\n                if (focus) {\n                    node.focus = focus;\n                    this.setData({\n                        listClone: list\n                    });\n                    return pageHelper.showModal(focus, '温馨提示');\n                }\n            }\n            return true;\n        },\n\n        url: function (e) {\n            pageHelper.url(e, this);\n        }\n    },\n    created: function () {},\n    watch: {\n        list: {\n            handler: function (newVal, oldVal) {\n                this.listClone = newVal;\n            },\n\n            immediate: true,\n            deep: true\n        },\n\n        upDirectDir: {\n            handler: function (newVal, oldVal) {\n                this.upDirectDirClone = newVal;\n            },\n\n            immediate: true\n        },\n\n        isDemo: {\n            handler: function (newVal, oldVal) {\n                this.isDemoClone = newVal;\n            },\n\n            immediate: true\n        }\n    }\n};\n</script>\n<style>\n.form-rows-item {\n    display: flex;\n    flex-direction: column;\n}\n\n.form-rows-item .line1 {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    height: 100rpx;\n    padding-left: 0rpx;\n}\n\n.form-rows-item .line2 {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    height: unset;\n    padding-left: 0rpx;\n}\n.form-rows-item .line2 textarea {\n    margin: 0 5rpx 0;\n}\n\n.form-rows-item .line1 .pic {\n    width: 90rpx;\n    height: calc(100% - 10rpx);\n    background-color: #f2f2f2;\n    margin-right: 10rpx;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 50rpx;\n    color: #999;\n}\n\n.form-rows-item .line1 image {\n    width: 70rpx;\n    height: 70rpx;\n}\n\n.form-rows-item .line1 input {\n    flex: 1;\n}\n\n.form-rows-item .line1 .select-close {\n    width: 80rpx;\n    font-size: 40rpx !important;\n    font-weight: bold;\n    text-align: center;\n    height: inherit;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.form-rows-item .line1 .detail-set {\n    min-width: 80rpx;\n    font-size: 26rpx !important;\n    text-align: center;\n    height: inherit;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.form-rows-item .line2 {\n    display: flex;\n}\n\n.form-rows-item .line3 {\n    display: flex;\n    height: unset;\n    align-items: flex-start;\n    border-top: 1rpx dashed #f2f2f2;\n    padding-top: 15rpx;\n    position: relative;\n}\n\n.form-rows-item .line3 textarea {\n    margin: unset;\n    line-height: 1.4 !important;\n    z-index: 99;\n}\n\n.form-rows-item .line3 .no {\n    position: absolute;\n    right: 15rpx;\n    bottom: 5rpx;\n    color: #eee;\n    font-size: 40rpx;\n    font-weight: bold;\n}\n\n.form-rows-item .line1 .tit {\n    font-weight: bold;\n    line-height: 1.4 !important;\n}\n\n.form-rows-add {\n    display: flex;\n    align-items: center;\n    color: var(--blue);\n    font-weight: normal;\n    font-size: 28rpx;\n}\n</style>\n","import mod from \"-!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./rows_cmpt.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.4.55.2025030718\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./rows_cmpt.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1741962918798\n      var cssReload = require(\"D:/HBuilderX.4.55.2025030718/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}